name: PHP Tests

on: [push, pull_request]

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        php-version:
          - 7.4

    steps:
    - uses: actions/checkout@v2

    - name: ASCII test with Czech alphabet
      run: |
        LC_ALL=C.UTF-8 find -L . -path ./.git -prune -o -type f -exec grep -PHn '[^\t -~ÁČĎÉĚÍŇÓŘŠŤÚŮÝŽáčďéěíňóřšťúůýž]' "{}" ";"

    - name: ASCII test
      run: |
        LC_ALL=C.UTF-8 find -L . -path ./.git -prune -o -type f -exec grep -PHn '[^\t -~]' "{}" ";"
